---
assignee: Нияз Садрутдинов
task-id: F1
---
## **Описание задачи**

Нужно добавить страницы авторизации:
- Логина
- Авторизации
Формы авторизации имеют следующие поля:
- `Email`
- `password`
На страницах должны быть ссылки возвращения на главную страницу и перехода к другой странице авторизации.
- [x] Для валидации форм добавить валидатор `zod`.
- [x] Создать `authContext` для авторизации

## 2025-04-20

Нужно реализовать работу с `refreshToken`:
> При выполнении любого запроса с `authState.authorized = true` может прийти ответ `Unauthorized`. При таком случае попробовать обновить токен с помощью `refreshToken`. Если ответ на обновление `Unauthorized`, то нужно очистить `authState`.


---
## **Этапы выполнения**

| Ссылка на `commit`                                                                                     | Описание                                                                                                                                                                                                                                                                |
| ------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`d8cbd98`](https://github.com/iamfromhe1l/pet-market/commit/d8cbd980a06558c91f6922e90f2d6343ac8e0c6a) | 1. Добавил конфигурации для `eslint` + `prettier`.<br>2. Инициализировал страницы авторизации и добавил разметку.<br>3. Использовал изображения для красивого оформления страниц.<br>4. Добавил `layout` для `ThemeProvider`.<br>5. Создал базовую тему в `global.css`. |
| [`b18ae8d`](https://github.com/iamfromhe1l/pet-market/commit/b18ae8dbd34684a8789e002929e2d62e6131a07a) | `Merge` базовых страниц авторизации                                                                                                                                                                                                                                     |
| [`d7327f6`](https://github.com/iamfromhe1l/pet-market/commit/d7327f617388a346a12fbe875d400d53d63293d3) | 1. Добавил `zod` схемы для авторизации.<br>2. Валидация форм авторизации.<br>3. Разделил компоненты формы авторизации.<br>4. Добавил вспомогательные типы и константы для построения схем `zod`                                                                         |
| [`072864f`](https://github.com/iamfromhe1l/pet-market/commit/072864f277304223a553a6165e3a27de0baf4178) | 1. Создал `userContext` (базовый) и `authContext`.<br>2. Добавил `api` для авторизации.<br>3. Создал вспомогательные типы и константы для работы с `api`.<br>4. Обновил конфиг для `eslint`.<br>5. Фикс линтинга для всех файлов.<br>6. Добавил `sonner`.               |
| [`84c5994`](https://github.com/iamfromhe1l/pet-market/commit/84c5994a90f190de60868004c8db208044b8e31e) | Переместил `user-context.ts` в корректную категорию и при загрузке страницы обновляю `authContext` по `localStorage.token`.                                                                                                                                             |

---
## **Комментарии**

|         | Страница `/login`                          | Страница `/register`                       |
| ------- | ------------------------------------------ | ------------------------------------------ |
| `dark`  | ![[Screenshot 2025-04-06 at 21.22.40.png]] | ![[Screenshot 2025-04-06 at 21.22.55.png]] |
| `light` | ![[Screenshot 2025-04-06 at 21.23.32.png]] | ![[Screenshot 2025-04-06 at 21.23.39.png]] |
